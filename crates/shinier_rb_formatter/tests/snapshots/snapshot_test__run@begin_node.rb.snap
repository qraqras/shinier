---
source: crates/shinier_rb_formatter/tests/snapshot_test.rs
assertion_line: 220
expression: output
input_file: crates/shinier_rb_formatter/tests/ruby/node_variants/begin_node.rb
---
****FORMATTED****
begin
end

begin
  do_something
end

# with rescue
begin
  do_something
rescue
  recover
end

# with ensure
begin
  do_something
ensure
  must_to_do
end

# with rescue and else
begin
  do_something
rescue
  recover
else
  handle_else
end

# with rescue and ensure
begin
  do_something
rescue
  recover
ensure
  must_to_do
end

# with rescue and else and ensure
begin
  do_something
rescue
  recover
else
  handle_else
ensure
  must_to_do
end

begin # comment 1
  # comment 2
end # comment 3

# comment 1
begin # comment 2
  # comment 3
  do_something # comment 4
  # comment 5
# comment 6
# comment 7
rescue ArgumentError => e # comment 8
  # comment 9
  recover_argument_error # comment 10
  # comment 11
# comment 12
# comment 13
rescue ZeroDivisionError => e # comment 14
  # comment 15
  recover_zero_division_error # comment 16
  # comment 17
# comment 18
# comment 19
else # comment 20
  # comment 21
  handle_else # comment 22
  # comment 23
# comment 24
# comment 25
ensure # comment 26
  # comment 27
  must_to_do # comment 28
  # comment 29
  # comment 30
  # comment 31
end # comment 32

begin # begin 1
  # begin 2
# rescue 1
# rescue 2
rescue # rescue 3
  # rescue 4
# else 1
# else 2
else # else 3
  # else 4
# ensure 1
# ensure 2
ensure # ensure 3
  # ensure 4
  # ensure 5
end


****AST****
ProgramNode[0-1302]: "begin\nend\n\nbegin\n  do_something\nend\n\n# with rescue\nbegin\n  do_something\nrescue\n  recover\nend\n\n# with ensure\nbegin\n  do_something\nensure\n  must_to_do\nend\n\n# with rescue and else\nbegin\n  do_something\nrescue\n  recover\nelse\n  handle_else\nend\n\n# with rescue and ensure\nbegin\n  do_something\nrescue\n  recover\nensure\n  must_to_do\nend\n\n# with rescue and else and ensure\nbegin\n  do_something\nrescue\n  recover\nelse\n  handle_else\nensure\n  must_to_do\nend\n\nbegin # comment 1\n  # comment 2\nend # comment 3\n\n# comment 1\nbegin # comment 2\n  # comment 3\n  do_something # comment 4\n  # comment 5\n# comment 6\n  # comment 7\nrescue ArgumentError => e # comment 8\n  # comment 9\n  recover_argument_error # comment 10\n  # comment 11\n# comment 12\n  # comment 13\nrescue ZeroDivisionError => e # comment 14\n  # comment 15\n  recover_zero_division_error # comment 16\n  # comment 17\n# comment 18\n  # comment 19\nelse # comment 20\n  # comment 21\n  handle_else # comment 22\n  # comment 23\n# comment 24\n  # comment 25\nensure # comment 26\n  # comment 27\n  must_to_do # comment 28\n  # comment 29\n# comment 30\n  # comment 31\nend # comment 32\n\nbegin # begin 1\n  # begin 2\n# rescue 1\n  # rescue 2\nrescue # rescue 3\n  # rescue 4\n# else 1\n  # else 2\nelse # else 3\n  # else 4\n# ensure 1\n  # ensure 2\nensure # ensure 3\n  # ensure 4\n# ensure 5\nend"
__StatementsNode[0-1302]: "begin\nend\n\nbegin\n  do_something\nend\n\n# with rescue\nbegin\n  do_something\nrescue\n  recover\nend\n\n# with ensure\nbegin\n  do_something\nensure\n  must_to_do\nend\n\n# with rescue and else\nbegin\n  do_something\nrescue\n  recover\nelse\n  handle_else\nend\n\n# with rescue and ensure\nbegin\n  do_something\nrescue\n  recover\nensure\n  must_to_do\nend\n\n# with rescue and else and ensure\nbegin\n  do_something\nrescue\n  recover\nelse\n  handle_else\nensure\n  must_to_do\nend\n\nbegin # comment 1\n  # comment 2\nend # comment 3\n\n# comment 1\nbegin # comment 2\n  # comment 3\n  do_something # comment 4\n  # comment 5\n# comment 6\n  # comment 7\nrescue ArgumentError => e # comment 8\n  # comment 9\n  recover_argument_error # comment 10\n  # comment 11\n# comment 12\n  # comment 13\nrescue ZeroDivisionError => e # comment 14\n  # comment 15\n  recover_zero_division_error # comment 16\n  # comment 17\n# comment 18\n  # comment 19\nelse # comment 20\n  # comment 21\n  handle_else # comment 22\n  # comment 23\n# comment 24\n  # comment 25\nensure # comment 26\n  # comment 27\n  must_to_do # comment 28\n  # comment 29\n# comment 30\n  # comment 31\nend # comment 32\n\nbegin # begin 1\n  # begin 2\n# rescue 1\n  # rescue 2\nrescue # rescue 3\n  # rescue 4\n# else 1\n  # else 2\nelse # else 3\n  # else 4\n# ensure 1\n  # ensure 2\nensure # ensure 3\n  # ensure 4\n# ensure 5\nend"
____BeginNode[0-9]: "begin\nend"
____BeginNode[11-35]: "begin\n  do_something\nend"
______StatementsNode[19-31]: "do_something"
________CallNode[19-31]: "do_something"
____BeginNode[51-92]: "begin\n  do_something\nrescue\n  recover\nend"
______StatementsNode[59-71]: "do_something"
________CallNode[59-71]: "do_something"
______RescueNode[72-88]: "rescue\n  recover"
________StatementsNode[81-88]: "recover"
__________CallNode[81-88]: "recover"
____BeginNode[108-152]: "begin\n  do_something\nensure\n  must_to_do\nend"
______StatementsNode[116-128]: "do_something"
________CallNode[116-128]: "do_something"
______EnsureNode[129-152]: "ensure\n  must_to_do\nend"
________StatementsNode[138-148]: "must_to_do"
__________CallNode[138-148]: "must_to_do"
____BeginNode[177-237]: "begin\n  do_something\nrescue\n  recover\nelse\n  handle_else\nend"
______StatementsNode[185-197]: "do_something"
________CallNode[185-197]: "do_something"
______RescueNode[198-214]: "rescue\n  recover"
________StatementsNode[207-214]: "recover"
__________CallNode[207-214]: "recover"
______ElseNode[215-237]: "else\n  handle_else\nend"
________StatementsNode[222-233]: "handle_else"
__________CallNode[222-233]: "handle_else"
____BeginNode[264-325]: "begin\n  do_something\nrescue\n  recover\nensure\n  must_to_do\nend"
______StatementsNode[272-284]: "do_something"
________CallNode[272-284]: "do_something"
______RescueNode[285-301]: "rescue\n  recover"
________StatementsNode[294-301]: "recover"
__________CallNode[294-301]: "recover"
______EnsureNode[302-325]: "ensure\n  must_to_do\nend"
________StatementsNode[311-321]: "must_to_do"
__________CallNode[311-321]: "must_to_do"
____BeginNode[361-441]: "begin\n  do_something\nrescue\n  recover\nelse\n  handle_else\nensure\n  must_to_do\nend"
______StatementsNode[369-381]: "do_something"
________CallNode[369-381]: "do_something"
______RescueNode[382-398]: "rescue\n  recover"
________StatementsNode[391-398]: "recover"
__________CallNode[391-398]: "recover"
______ElseNode[399-424]: "else\n  handle_else\nensure"
________StatementsNode[406-417]: "handle_else"
__________CallNode[406-417]: "handle_else"
______EnsureNode[418-441]: "ensure\n  must_to_do\nend"
________StatementsNode[427-437]: "must_to_do"
__________CallNode[427-437]: "must_to_do"
____BeginNode[443-478]: "begin # comment 1\n  # comment 2\nend"
____BeginNode[504-1090]: "begin # comment 2\n  # comment 3\n  do_something # comment 4\n  # comment 5\n# comment 6\n  # comment 7\nrescue ArgumentError => e # comment 8\n  # comment 9\n  recover_argument_error # comment 10\n  # comment 11\n# comment 12\n  # comment 13\nrescue ZeroDivisionError => e # comment 14\n  # comment 15\n  recover_zero_division_error # comment 16\n  # comment 17\n# comment 18\n  # comment 19\nelse # comment 20\n  # comment 21\n  handle_else # comment 22\n  # comment 23\n# comment 24\n  # comment 25\nensure # comment 26\n  # comment 27\n  must_to_do # comment 28\n  # comment 29\n# comment 30\n  # comment 31\nend"
______StatementsNode[538-550]: "do_something"
________CallNode[538-550]: "do_something"
______RescueNode[603-823]: "rescue ArgumentError => e # comment 8\n  # comment 9\n  recover_argument_error # comment 10\n  # comment 11\n# comment 12\n  # comment 13\nrescue ZeroDivisionError => e # comment 14\n  # comment 15\n  recover_zero_division_error"
________ConstantReadNode[610-623]: "ArgumentError"
________LocalVariableTargetNode[627-628]: "e"
________StatementsNode[657-679]: "recover_argument_error"
__________CallNode[657-679]: "recover_argument_error"
________RescueNode[736-823]: "rescue ZeroDivisionError => e # comment 14\n  # comment 15\n  recover_zero_division_error"
__________ConstantReadNode[743-760]: "ZeroDivisionError"
__________LocalVariableTargetNode[764-765]: "e"
__________StatementsNode[796-823]: "recover_zero_division_error"
____________CallNode[796-823]: "recover_zero_division_error"
______ElseNode[880-989]: "else # comment 20\n  # comment 21\n  handle_else # comment 22\n  # comment 23\n# comment 24\n  # comment 25\nensure"
________StatementsNode[915-926]: "handle_else"
__________CallNode[915-926]: "handle_else"
______EnsureNode[983-1090]: "ensure # comment 26\n  # comment 27\n  must_to_do # comment 28\n  # comment 29\n# comment 30\n  # comment 31\nend"
________StatementsNode[1020-1030]: "must_to_do"
__________CallNode[1020-1030]: "must_to_do"
____BeginNode[1105-1302]: "begin # begin 1\n  # begin 2\n# rescue 1\n  # rescue 2\nrescue # rescue 3\n  # rescue 4\n# else 1\n  # else 2\nelse # else 3\n  # else 4\n# ensure 1\n  # ensure 2\nensure # ensure 3\n  # ensure 4\n# ensure 5\nend"
______RescueNode[1157-1163]: "rescue"
______ElseNode[1208-1263]: "else # else 3\n  # else 4\n# ensure 1\n  # ensure 2\nensure"
______EnsureNode[1257-1302]: "ensure # ensure 3\n  # ensure 4\n# ensure 5\nend"
