---
source: crates/shinier_rb_formatter/tests/snapshot_test.rs
assertion_line: 509
expression: output
input_file: crates/shinier_rb_formatter/tests/ruby/node/begin_node.rb
---
****FORMATTED****
begin
end
begin
  foo
end
begin
  foo
rescue  => e
  handle(e)
end
begin
  foo
ensure
  cleanup
end
begin
  try_block
rescue 
  rescue_block
else
  else_block
end
begin
  begin
    inner
  rescue 
    inner_rescue
  end
rescue 
  outer_rescue
end

****AST****
ProgramNode: "begin\nend\n\n# single-line begin\nbegin; foo; end\n\n# with rescue\nbegin\n  foo\nrescue => e\n  handle(e)\nend\n\n# with ensure\nbegin\n  foo\nensure\n  cleanup\nend\n\n# with else\nbegin\n  try_block\nrescue\n  rescue_block\nelse\n  else_block\nend\n\n# nested begin\nbegin\n  begin\n    inner\n  rescue\n    inner_rescue\n  end\nrescue\n  outer_rescue\nend"
__BeginNode: "begin\nend"
__BeginNode: "begin; foo; end"
____CallNode: "foo"
__BeginNode: "begin\n  foo\nrescue => e\n  handle(e)\nend"
____CallNode: "foo"
____LocalVariableTargetNode: "e"
____CallNode: "handle(e)"
______LocalVariableReadNode: "e"
__BeginNode: "begin\n  foo\nensure\n  cleanup\nend"
____CallNode: "foo"
____CallNode: "cleanup"
__BeginNode: "begin\n  try_block\nrescue\n  rescue_block\nelse\n  else_block\nend"
____CallNode: "try_block"
____CallNode: "rescue_block"
____CallNode: "else_block"
__BeginNode: "begin\n  begin\n    inner\n  rescue\n    inner_rescue\n  end\nrescue\n  outer_rescue\nend"
____BeginNode: "begin\n    inner\n  rescue\n    inner_rescue\n  end"
______CallNode: "inner"
______CallNode: "inner_rescue"
____CallNode: "outer_rescue"
