---
source: crates/shinier_rb_formatter/tests/snapshot_test.rs
assertion_line: 220
expression: output
input_file: crates/shinier_rb_formatter/tests/ruby/node_variants/block_argument_node.rb
---
****FORMATTED****
bar(&args)

bar(&args)

bar(
  # leading comment 1
  &args
)

bar(
  &args # trailing comment 1
)

bar(
  &args
  # trailing comment 1
)


bar(
  # leading comment 1
  &args # trailing comment 1
  # trailing comment 2
)

bar(
  & # trailing comment 1
  args # trailing comment 2
)

bar(
  # leading comment 1
  & # trailing comment 1
  # leading comment 2
  args # trailing comment 2
  # trailing comment 3
)

def foo(&)
  bar(&)
end

def foo(&)
  bar(&)
end

def foo(&)
  bar(
    # leading comment 1
    & # trailing comment 1
    # trailing comment 2
  )
end


****AST****
ProgramNode[0-567]: "bar(&args)\n\nbar(\n  &\n  args\n)\n\nbar(\n  # leading comment 1\n  &args\n)\n\nbar(&args # trailing comment 1\n)\n\nbar(&args\n  # trailing comment 1\n)\n\n\nbar(\n  # leading comment 1\n  &args # trailing comment 1\n  # trailing comment 2\n)\n\nbar(& # trailing comment 1\n  args # trailing comment 2\n)\n\nbar(\n  # leading comment 1\n  & # trailing comment 1\n  # leading comment 2\n  args # trailing comment 2\n  # trailing comment 3\n)\n\ndef foo(&)\n  bar(&)\nend\n\ndef foo(&)\n  bar(\n    &\n  )\nend\n\ndef foo(&)\n  bar(\n    # leading comment 1\n    & # trailing comment 1\n    # trailing comment 2\n  )\nend"
__StatementsNode[0-567]: "bar(&args)\n\nbar(\n  &\n  args\n)\n\nbar(\n  # leading comment 1\n  &args\n)\n\nbar(&args # trailing comment 1\n)\n\nbar(&args\n  # trailing comment 1\n)\n\n\nbar(\n  # leading comment 1\n  &args # trailing comment 1\n  # trailing comment 2\n)\n\nbar(& # trailing comment 1\n  args # trailing comment 2\n)\n\nbar(\n  # leading comment 1\n  & # trailing comment 1\n  # leading comment 2\n  args # trailing comment 2\n  # trailing comment 3\n)\n\ndef foo(&)\n  bar(&)\nend\n\ndef foo(&)\n  bar(\n    &\n  )\nend\n\ndef foo(&)\n  bar(\n    # leading comment 1\n    & # trailing comment 1\n    # trailing comment 2\n  )\nend"
____CallNode[0-10]: "bar(&args)"
______BlockArgumentNode[4-9]: "&args"
________CallNode[5-9]: "args"
____CallNode[12-29]: "bar(\n  &\n  args\n)"
______BlockArgumentNode[19-27]: "&\n  args"
________CallNode[23-27]: "args"
____CallNode[31-67]: "bar(\n  # leading comment 1\n  &args\n)"
______BlockArgumentNode[60-65]: "&args"
________CallNode[61-65]: "args"
____CallNode[69-101]: "bar(&args # trailing comment 1\n)"
______BlockArgumentNode[73-78]: "&args"
________CallNode[74-78]: "args"
____CallNode[103-137]: "bar(&args\n  # trailing comment 1\n)"
______BlockArgumentNode[107-112]: "&args"
________CallNode[108-112]: "args"
____CallNode[140-220]: "bar(\n  # leading comment 1\n  &args # trailing comment 1\n  # trailing comment 2\n)"
______BlockArgumentNode[169-174]: "&args"
________CallNode[170-174]: "args"
____CallNode[222-278]: "bar(& # trailing comment 1\n  args # trailing comment 2\n)"
______BlockArgumentNode[226-255]: "& # trailing comment 1\n  args"
________CallNode[251-255]: "args"
____CallNode[280-406]: "bar(\n  # leading comment 1\n  & # trailing comment 1\n  # leading comment 2\n  args # trailing comment 2\n  # trailing comment 3\n)"
______BlockArgumentNode[309-360]: "& # trailing comment 1\n  # leading comment 2\n  args"
________CallNode[356-360]: "args"
____DefNode[408-431]: "def foo(&)\n  bar(&)\nend"
______ParametersNode[416-417]: "&"
________BlockParameterNode[416-417]: "&"
______StatementsNode[421-427]: "bar(&)"
________CallNode[421-427]: "bar(&)"
__________BlockArgumentNode[425-426]: "&"
____DefNode[433-464]: "def foo(&)\n  bar(\n    &\n  )\nend"
______ParametersNode[441-442]: "&"
________BlockParameterNode[441-442]: "&"
______StatementsNode[446-460]: "bar(\n    &\n  )"
________CallNode[446-460]: "bar(\n    &\n  )"
__________BlockArgumentNode[455-456]: "&"
____DefNode[466-567]: "def foo(&)\n  bar(\n    # leading comment 1\n    & # trailing comment 1\n    # trailing comment 2\n  )\nend"
______ParametersNode[474-475]: "&"
________BlockParameterNode[474-475]: "&"
______StatementsNode[479-563]: "bar(\n    # leading comment 1\n    & # trailing comment 1\n    # trailing comment 2\n  )"
________CallNode[479-563]: "bar(\n    # leading comment 1\n    & # trailing comment 1\n    # trailing comment 2\n  )"
__________BlockArgumentNode[512-513]: "&"
