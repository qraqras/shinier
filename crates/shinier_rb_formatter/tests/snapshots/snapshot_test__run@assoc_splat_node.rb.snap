---
source: crates/shinier_rb_formatter/tests/snapshot_test.rs
assertion_line: 220
expression: output
input_file: crates/shinier_rb_formatter/tests/ruby/node_variants/assoc_splat_node.rb
---
****FORMATTED****
{ **foo }
{ **foo }

# With other keys
{ a: 1, **foo }
{ **foo, b: 2 }
{ a: 1, **foo, b: 2 }

# Multiple splats
{ **foo, **bar }
{ a: 1, **foo, b: 2, **bar }

# Nested hashes
{ **{ a: 1, b: 2 } }
{ a: 1, **{ nested: value } }

# With hash rocket syntax
{ key: :value, **foo }
{ **foo, key: :value }

# Complex expressions
{ **foo.bar }
{ **method_call(arg) }
{ **some_hash.merge(other_hash) }

# Unnecessary line breaks
{ **foo }
{ a: 1, **foo }

# Long expressions
{
  **very_long_hash_variable_name_very_long_hash_variable_name_very_long_hash_variable_name_very_long_hash_variable_name
}

{
  # leading comment 1
  **foo
}
{
  **foo # trailing comment 1
}

{
  **foo
  # trailing comment 1
}

{
  ** # trailing comment 1
  foo # trailing comment 2
}

{
  # leading comment 1
  ** # trailing comment 1
  # trailing comment 2
  foo # trailing comment 3
  # trailing_comment_4
}

# Empty hash with splat
{ **{} }


****AST****
ProgramNode[0-922]: "{ **foo }\n{ **\n  foo }\n\n# With other keys\n{ a: 1, **foo }\n{ **foo, b: 2 }\n{ a: 1, **foo, b: 2 }\n\n# Multiple splats\n{ **foo, **bar }\n{ a: 1, **foo, b: 2, **bar }\n\n# Nested hashes\n{ **{ a: 1, b: 2 } }\n{ a: 1, **{ nested: value } }\n\n# With hash rocket syntax\n{ :key => :value, **foo }\n{ **foo, :key => :value }\n\n# Complex expressions\n{ **foo.bar }\n{ **method_call(arg) }\n{ **some_hash.merge(other_hash) }\n\n# Unnecessary line breaks\n{\n  **foo\n}\n{ a: 1,\n  **foo }\n\n# Long expressions\n{ **very_long_hash_variable_name_very_long_hash_variable_name_very_long_hash_variable_name_very_long_hash_variable_name }\n\n{\n  # leading comment 1\n  **foo\n}\n{\n  **foo # trailing comment 1\n}\n\n{\n  **foo\n  # trailing comment 1\n}\n\n{\n  ** # trailing comment 1\n  foo # trailing comment 2\n}\n\n{\n  # leading comment 1\n  ** # trailing comment 1\n  # trailing comment 2\n  foo # trailing comment 3\n  # trailing_comment_4\n}\n\n# Empty hash with splat\n{ **{} }"
__StatementsNode[0-922]: "{ **foo }\n{ **\n  foo }\n\n# With other keys\n{ a: 1, **foo }\n{ **foo, b: 2 }\n{ a: 1, **foo, b: 2 }\n\n# Multiple splats\n{ **foo, **bar }\n{ a: 1, **foo, b: 2, **bar }\n\n# Nested hashes\n{ **{ a: 1, b: 2 } }\n{ a: 1, **{ nested: value } }\n\n# With hash rocket syntax\n{ :key => :value, **foo }\n{ **foo, :key => :value }\n\n# Complex expressions\n{ **foo.bar }\n{ **method_call(arg) }\n{ **some_hash.merge(other_hash) }\n\n# Unnecessary line breaks\n{\n  **foo\n}\n{ a: 1,\n  **foo }\n\n# Long expressions\n{ **very_long_hash_variable_name_very_long_hash_variable_name_very_long_hash_variable_name_very_long_hash_variable_name }\n\n{\n  # leading comment 1\n  **foo\n}\n{\n  **foo # trailing comment 1\n}\n\n{\n  **foo\n  # trailing comment 1\n}\n\n{\n  ** # trailing comment 1\n  foo # trailing comment 2\n}\n\n{\n  # leading comment 1\n  ** # trailing comment 1\n  # trailing comment 2\n  foo # trailing comment 3\n  # trailing_comment_4\n}\n\n# Empty hash with splat\n{ **{} }"
____HashNode[0-9]: "{ **foo }"
______AssocSplatNode[2-7]: "**foo"
________CallNode[4-7]: "foo"
____HashNode[10-22]: "{ **\n  foo }"
______AssocSplatNode[12-20]: "**\n  foo"
________CallNode[17-20]: "foo"
____HashNode[42-57]: "{ a: 1, **foo }"
______AssocNode[44-48]: "a: 1"
________SymbolNode[44-46]: "a:"
________IntegerNode[47-48]: "1"
______AssocSplatNode[50-55]: "**foo"
________CallNode[52-55]: "foo"
____HashNode[58-73]: "{ **foo, b: 2 }"
______AssocSplatNode[60-65]: "**foo"
________CallNode[62-65]: "foo"
______AssocNode[67-71]: "b: 2"
________SymbolNode[67-69]: "b:"
________IntegerNode[70-71]: "2"
____HashNode[74-95]: "{ a: 1, **foo, b: 2 }"
______AssocNode[76-80]: "a: 1"
________SymbolNode[76-78]: "a:"
________IntegerNode[79-80]: "1"
______AssocSplatNode[82-87]: "**foo"
________CallNode[84-87]: "foo"
______AssocNode[89-93]: "b: 2"
________SymbolNode[89-91]: "b:"
________IntegerNode[92-93]: "2"
____HashNode[115-131]: "{ **foo, **bar }"
______AssocSplatNode[117-122]: "**foo"
________CallNode[119-122]: "foo"
______AssocSplatNode[124-129]: "**bar"
________CallNode[126-129]: "bar"
____HashNode[132-160]: "{ a: 1, **foo, b: 2, **bar }"
______AssocNode[134-138]: "a: 1"
________SymbolNode[134-136]: "a:"
________IntegerNode[137-138]: "1"
______AssocSplatNode[140-145]: "**foo"
________CallNode[142-145]: "foo"
______AssocNode[147-151]: "b: 2"
________SymbolNode[147-149]: "b:"
________IntegerNode[150-151]: "2"
______AssocSplatNode[153-158]: "**bar"
________CallNode[155-158]: "bar"
____HashNode[178-198]: "{ **{ a: 1, b: 2 } }"
______AssocSplatNode[180-196]: "**{ a: 1, b: 2 }"
________HashNode[182-196]: "{ a: 1, b: 2 }"
__________AssocNode[184-188]: "a: 1"
____________SymbolNode[184-186]: "a:"
____________IntegerNode[187-188]: "1"
__________AssocNode[190-194]: "b: 2"
____________SymbolNode[190-192]: "b:"
____________IntegerNode[193-194]: "2"
____HashNode[199-228]: "{ a: 1, **{ nested: value } }"
______AssocNode[201-205]: "a: 1"
________SymbolNode[201-203]: "a:"
________IntegerNode[204-205]: "1"
______AssocSplatNode[207-226]: "**{ nested: value }"
________HashNode[209-226]: "{ nested: value }"
__________AssocNode[211-224]: "nested: value"
____________SymbolNode[211-218]: "nested:"
____________CallNode[219-224]: "value"
____HashNode[256-281]: "{ :key => :value, **foo }"
______AssocNode[258-272]: ":key => :value"
________SymbolNode[258-262]: ":key"
________SymbolNode[266-272]: ":value"
______AssocSplatNode[274-279]: "**foo"
________CallNode[276-279]: "foo"
____HashNode[282-307]: "{ **foo, :key => :value }"
______AssocSplatNode[284-289]: "**foo"
________CallNode[286-289]: "foo"
______AssocNode[291-305]: ":key => :value"
________SymbolNode[291-295]: ":key"
________SymbolNode[299-305]: ":value"
____HashNode[331-344]: "{ **foo.bar }"
______AssocSplatNode[333-342]: "**foo.bar"
________CallNode[335-342]: "foo.bar"
__________CallNode[335-338]: "foo"
____HashNode[345-367]: "{ **method_call(arg) }"
______AssocSplatNode[347-365]: "**method_call(arg)"
________CallNode[349-365]: "method_call(arg)"
__________ArgumentsNode[361-364]: "arg"
____________CallNode[361-364]: "arg"
____HashNode[368-401]: "{ **some_hash.merge(other_hash) }"
______AssocSplatNode[370-399]: "**some_hash.merge(other_hash)"
________CallNode[372-399]: "some_hash.merge(other_hash)"
__________CallNode[372-381]: "some_hash"
__________ArgumentsNode[388-398]: "other_hash"
____________CallNode[388-398]: "other_hash"
____HashNode[429-440]: "{\n  **foo\n}"
______AssocSplatNode[433-438]: "**foo"
________CallNode[435-438]: "foo"
____HashNode[441-458]: "{ a: 1,\n  **foo }"
______AssocNode[443-447]: "a: 1"
________SymbolNode[443-445]: "a:"
________IntegerNode[446-447]: "1"
______AssocSplatNode[451-456]: "**foo"
________CallNode[453-456]: "foo"
____HashNode[479-600]: "{ **very_long_hash_variable_name_very_long_hash_variable_name_very_long_hash_variable_name_very_long_hash_variable_name }"
______AssocSplatNode[481-598]: "**very_long_hash_variable_name_very_long_hash_variable_name_very_long_hash_variable_name_very_long_hash_variable_name"
________CallNode[483-598]: "very_long_hash_variable_name_very_long_hash_variable_name_very_long_hash_variable_name_very_long_hash_variable_name"
____HashNode[602-635]: "{\n  # leading comment 1\n  **foo\n}"
______AssocSplatNode[628-633]: "**foo"
________CallNode[630-633]: "foo"
____HashNode[636-668]: "{\n  **foo # trailing comment 1\n}"
______AssocSplatNode[640-645]: "**foo"
________CallNode[642-645]: "foo"
____HashNode[670-704]: "{\n  **foo\n  # trailing comment 1\n}"
______AssocSplatNode[674-679]: "**foo"
________CallNode[676-679]: "foo"
____HashNode[706-762]: "{\n  ** # trailing comment 1\n  foo # trailing comment 2\n}"
______AssocSplatNode[710-739]: "** # trailing comment 1\n  foo"
________CallNode[736-739]: "foo"
____HashNode[764-888]: "{\n  # leading comment 1\n  ** # trailing comment 1\n  # trailing comment 2\n  foo # trailing comment 3\n  # trailing_comment_4\n}"
______AssocSplatNode[790-842]: "** # trailing comment 1\n  # trailing comment 2\n  foo"
________CallNode[839-842]: "foo"
____HashNode[914-922]: "{ **{} }"
______AssocSplatNode[916-920]: "**{}"
________HashNode[918-920]: "{}"
